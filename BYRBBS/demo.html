<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <link rel='stylesheet' href='./css/header.css'/>
        <link rel='stylesheet' href='./css/navigate.css'/>
        <link rel='stylesheet' href='./css/main.css'/>
    </head>
    <body>
        <script src='../vue.js'></script>
        <div class='page'>
            <div id='header' class='header'>
                <div class='header-left'>
                    <p class='header-p'>
                        <img class='header-img' src='icon.png'>
                        <a class='header-a'>BYRBBS</a>
                        <input v-model='searchText' placeholder='搜索' class='header-input' type='text'>
                    </p>
                </div>
                <div class='header-right'>
                    <p class='button-left'>
                        <a class='circular'>提醒</a>
                        <a class='circular'>私信</a>
                        <a class='circular'>历史</a>
                        <a class='circular'>收藏</a>
                    </p>
                    <p class='button-right'>
                        <img class='circular' src='icon.png'>
                        <a id='useName'>{{ useName }}</a>
                    </p>
                </div>
            </div>
            <div id='navigate' >
                <ol class='nav-ol'>
                    <li><a class='choose'>订阅</a></li>
                    <li><a>评论</a></li>
                    <li><a>赞</a></li>
                    <li><a>私信</a></li>
                </ol>
            </div>
            <div id='mainBar'>
                <div id='subscription' class='show'>
                    <tittle-abstract></tittle-abstract>
                    <div class='main-one'>
                        <div class='main-one-left'>
                            <user-like></user-like>
                            <abstract-text></abstract-text>
                        </div>
                        <div class='main-one-right'>
                        </div>
                    </div>
                    <div class='main-two'>
                        <user-like></user-like>
                        <abstract-text></abstract-text>
                    </div>
                    <div class='main-three'>
                        <user-like></user-like>
                        <div class='main-three-left'></div>
                        <div class='main-button'>
                            <ul class='main-button-list'>
                                <li><a>取消订阅</a></li>
                                <li><a>加入收藏夹</a></li>
                            </ul>                           
                        </div>
                    </div>
                    <tittle-abstract></tittle-abstract>
                    <div class='main-one'>
                        <div class='main-one-left'>
                            <user-like></user-like>
                            <abstract-text></abstract-text>
                        </div>
                        <div class='main-one-right'>
                        </div>
                    </div>
                    
                </div>
                <div id='comment' class='hidden'>
                </div>
                <div id='like' class='hidden'>
                </div>
                <div id='message' class='hidden'>
                </div>
            </div>
        </div>
        <script>
            var pageHeader  = new Vue({
                el: '#header',
                data: {
                    searchText: '',
                    useName: 'admin'
                }
            });

            var ol = document.querySelector('.nav-ol');
            ol.addEventListener('click', navClick);

            function displayWhere(e){
                var listA = document.querySelectorAll('.nav-ol li a');
                let i = 0;
                for(i = 0; i < listA.length; i++){
                    if(listA[i] == e.target){
                        break;
                    }
                }
                var listDiv = document.querySelectorAll('#mainBar > div');
                for(let j in listDiv){
                    if(i == j){
                        listDiv[j].className = 'show';
                    }else{
                        listDiv[j].className = 'hidden';
                    }

                }
            }

            function navClick(e){
                if(e.target.tagName == 'A'){
                    var listA = document.querySelectorAll('.nav-ol li a');
                    for(let i in listA){
                        if(listA[i] == e.target){
                            e.target.className = 'choose';
                        }else{
                            listA[i].className = '';
                        }
                    }
                    displayWhere(e);
                }   
            }

            var subscriptionA = {
                data: function(){
                    return {
                        category: '学习',
                        plate: '前端',
                        newReport: 183,
                        tittle: '帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题帖子标题',
                    }
                },
                template: `<div class='div-tittle'>
                            <p class='p-tittle-left'>
                                <a class='a-plate'>{{ plate }}</a>
                                <a class='a-category'>{{ category }}</a>
                                <a class='a-tittle'>{{ tittle }}</a>
                            </p>
                            <p class='p-tittle-right'>
                                <a class='a-remindNum'>{{ newReport }}条新动态</a>
                            </p>
                        </div>`
            }

            var subscriptionB = {
                data: function(){
                    return {
                        imgSrc: 'icon.png',
                        useName: 'admin',
                        likeNum: 666,
                        time: '2019-04-30 19:07'
                    }
                },
                template: `<div>
                            <p class='div-uselike'>
                                <img :src="imgSrc" class='iconOfMain'/>
                                <a class='useName'>{{ useName }}</a>
                                <a>今天 19:07 回复了该贴</a>
                                <img src='like.png'/>
                                <a>{{ likeNum }}</a>
                            </p>                            
                        </div>`
            }

            var subscriptionC = {
                data: function(){
                    return {
                        abstract: '帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要',
                    }
                },
                template: `<div class='div-abstract'>
                            <p class='p-abstract'>{{ abstract }}</p>                        
                        </div>`
            }
            

            var main = new Vue({
                el: '#subscription',
                data: {
                    imgSrc: 'icon.png',
                    usrName: 'admin',
                },
                components: {
                    'tittle-abstract': subscriptionA,
                    'user-like': subscriptionB,
                    'abstract-text': subscriptionC        
                }
            })

            
           
        </script>
    </body>
</html>