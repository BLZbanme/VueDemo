<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <link rel='stylesheet' href='./css/header.css'/>
        <link rel='stylesheet' href='./css/navigate.css'/>
        <link rel='stylesheet' href='./css/main.css'/>
    </head>
    <body>
        <script src='../vue.js'></script>
        <div class='page'>
            <div id='header' class='header'>
                <div class='header-left'>
                    <p class='header-p'>
                        <img class='header-img' src='icon.png'>
                        <a class='header-a'>BYRBBS</a>
                        <input v-model='searchText' placeholder='搜索' class='header-input' type='text'>
                    </p>
                </div>
                <div class='header-right'>
                    <p class='button-left'>
                        <a class='circular'>提醒</a>
                        <a class='circular'>私信</a>
                        <a class='circular'>历史</a>
                        <a class='circular'>收藏</a>
                    </p>
                    <p class='button-right'>
                        <img class='circular' src='icon.png'>
                        <a id='useName'>{{ useName }}</a>
                    </p>
                </div>
            </div>
            <div id='navigate' >
                <ol class='nav-ol'>
                    <li><a class='choose'>订阅</a></li>
                    <li><a>评论</a></li>
                    <li><a>赞</a></li>
                    <li><a>私信</a></li>
                </ol>
            </div>
            <div id='mainBar'>
                <div id='subscription' class='show'>
                    <tittle-abstract></tittle-abstract>
                </div>
                <div id='comment' class='hidden'>
                </div>
                <div id='like' class='hidden'>
                </div>
                <div id='message' class='hidden'>
                </div>
            </div>
        </div>
        <script>
            var pageHeader  = new Vue({
                el: '#header',
                data: {
                    searchText: '',
                    useName: 'admin'
                }
            });

            var ol = document.querySelector('.nav-ol');
            ol.addEventListener('click', navClick);

            function displayWhere(){
                /写下面面板的展示逻辑/ 
            }

            function navClick(e){
                if(e.target.tagName == 'A'){
                    var listA = document.querySelectorAll('.nav-ol li a');
                    for(let i in listA){
                        if(listA[i] == e.target){
                            e.target.className = 'choose';
                        }else{
                            listA[i].className = '';
                        }
                    }
                    displayWhere();
                }   
            }

            var subscriptionA = {
                data: function(){
                    return {
                        category: '学习',
                        plate: '前端之美',
                        newReport: 183,
                        tittle: '帖子标题',
                        abstract: '帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要帖子摘要',
                    }
                },
                template: `<p class='p-tittle'>
                            <p class='p-tittle-left'>
                                <a class='a-plate'></a>
                                <a class='a-category'></a>
                            </p>
                            <p class='p-tittle-right'>
                                <a class='a-plate'></a>
                                <a class='a-category'></a>
                            </p>
                        </p>`
            }

            var subscriptionB = {
                data: function(){
                    return {
                        imgSrc: 'icon.ong',
                        useName: 'admin',
                        likeNum: 666,
                        time: '2019-04-30 19:07',
                    }
                },
                template: ``
            }
            

            var main = new Vue({
                el: '#subscription',
                data: {
                    imgSrc: 'icon.png',
                    usrName: 'admin',
                },
                components: {
                    'tittle-abstract': subscriptionA,
                    'user-like': subscriptionB        
                }
            })

            
           
        </script>
    </body>
</html>